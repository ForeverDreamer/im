(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{389:function(t,e,o){"use strict";o.r(e);var n={data:function(){return{form:{p_id:"",t_id:"",username:"",cycle_desc:""},file:"",username:""}},created:function(){this.init_data()},methods:{init_data:function(){var t=this;this.$axios.$get("/auth/login/").then((function(e){var o=e.data;console.log(o),t.username=o.username})).catch((function(t){console.log(t.response.data)}))},login:function(){var t=this;this.$axios.$post("/auth/login/",{p_id:this.form.p_id,username:"username1",password:"pw123456"}).then((function(e){var o=e.data;console.log(o),t.username=o.username})).catch((function(t){console.log(t.response.data)}))},logout:function(){var t=this;this.$axios.$delete("/auth/login/").then((function(e){var o=e.data;console.log(o),t.username=""})).catch((function(t){console.log(t.response.data)}))},formSubmission:function(){this.$axios.$post("/submission/form/",{p_id:this.form.p_id,t_id:this.form.t_id,cycle_desc:this.form.cycle_desc,record:{name:"doer",desc:"帅",age:"22",submit_date:"15967776",submit_time:"15967779"}}).then((function(t){return console.log(t.data)})).catch((function(t){console.log(t.response.data)}))},formSubmissionUpdate:function(){this.$axios.$put("/submission/form/",{p_id:this.form.p_id,t_id:this.form.t_id,cycle_desc:this.form.cycle_desc,cycle_desc_new:"阿升11",record:{name:"阿升更新",desc:"帅更新",age:"22",submit_date:"15967776",submit_time:"15967779"}}).then((function(t){return console.log(t.data)})).catch((function(t){console.log(t.response.data)}))},jsonSubmission:function(){this.$axios.$post("/submission/json/",{p_id:this.form.p_id,t_id:this.form.t_id,cycle_desc:this.form.cycle_desc,records:[{name:"doer1",desc:"帅",age:"25",submit_date:"1596777629",submit_time:"1596777658"},{name:"doer2",desc:"帅",age:"26",submit_date:"1596777629",submit_time:"1596777658"},{name:"doer3",desc:"帅",age:"27",submit_date:"1596777629",submit_time:"1596777658"}]}).then((function(t){return console.log(t.data)})).catch((function(t){console.log(t.response.data)}))},excelSubmission:function(){this.file=this.$refs.file.files[0];var t=new FormData;t.append("p_id",this.form.p_id),t.append("t_id",this.form.t_id),t.append("cycle_desc",this.form.cycle_desc),t.append("excel_file",this.file),this.$axios.$post("/submission/excel/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return console.log(t.data)})).catch((function(t){console.log(t.response.data)}))},historySubmission:function(){this.$axios.$post("/submission/history/",{p_id:this.form.p_id,t_id:this.form.t_id}).then((function(t){return console.log(t.data)})).catch((function(t){console.log(t.response.data)}))},queryCycle:function(){this.$axios.$post("/submission/dm/",{command:"query_cycle",parameters:{p_id:this.form.p_id,t_id:this.form.t_id,cycle_desc:this.form.cycle_desc}}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t.response.data)}))}}},c=o(48),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mt-3"},[o("h1",{staticClass:"text-center"},[t._v("==========数据提交UI==========")]),t._v(" "),o("div",{staticClass:"mb-3",class:t.username?"text-success":"text-danger"},[t._v("\n    "+t._s(t.username?t.username+"已登录！":"请登录后操作！")+"\n  ")]),t._v(" "),o("div",{staticClass:"border"},[o("h3",{staticClass:"text-center"},[t._v("自定义参数表单")]),t._v(" "),o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{staticClass:"w-50 my-3",attrs:{placeholder:"请输入项目id",size:"medium"},model:{value:t.form.p_id,callback:function(e){t.$set(t.form,"p_id",e)},expression:"form.p_id"}})],1),t._v(" "),o("el-form-item",[o("el-input",{staticClass:"w-50 mb-3",attrs:{labe:"label",placeholder:"请输入任务id",size:"medium"},model:{value:t.form.t_id,callback:function(e){t.$set(t.form,"t_id",e)},expression:"form.t_id"}})],1),t._v(" "),o("el-form-item",[o("el-input",{staticClass:"w-50 mb-3",attrs:{labe:"label",placeholder:"请输入数据报送用户名",size:"medium"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),o("el-form-item",[o("el-input",{staticClass:"w-50 mb-3",attrs:{labe:"label",placeholder:"请输入批次",size:"medium"},model:{value:t.form.cycle_desc,callback:function(e){t.$set(t.form,"cycle_desc",e)},expression:"form.cycle_desc"}})],1)],1)],1),t._v(" "),o("div",{staticClass:"border mt-3 p-3"},[o("h3",[t._v("数据提交接口列表")]),t._v(" "),o("div",{staticClass:"border p-3"},[o("h5",[t._v("登录(/auth/)：")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.login}},[t._v("\n        登入\n      ")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.logout}},[t._v("\n        登出\n      ")])],1),t._v(" "),o("div",{staticClass:"border p-3"},[o("h5",[t._v("报送(/submission/)：")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.formSubmission}},[t._v("\n        表单报送\n      ")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.formSubmissionUpdate}},[t._v("\n        表单报送更新\n      ")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.jsonSubmission}},[t._v("\n        json推送\n      ")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.excelSubmission}},[t._v("\n        excel报送\n      ")]),t._v(" "),o("input",{ref:"file",attrs:{id:"file",type:"file"}}),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.historySubmission}},[t._v("\n        报送历史浏览\n      ")]),t._v(" "),o("el-button",{staticClass:"w-10",attrs:{type:"primary"},on:{click:t.queryCycle}},[t._v("\n        查询单个批次数据\n      ")])],1)])])}),[],!1,null,"489b6029",null);e.default=component.exports}}]);